<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>HSA cohort data check and descriptive statistics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="HSA cohort descriptive statistics and data checking_files/libs/clipboard/clipboard.min.js"></script>
<script src="HSA cohort descriptive statistics and data checking_files/libs/quarto-html/quarto.js"></script>
<script src="HSA cohort descriptive statistics and data checking_files/libs/quarto-html/popper.min.js"></script>
<script src="HSA cohort descriptive statistics and data checking_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="HSA cohort descriptive statistics and data checking_files/libs/quarto-html/anchor.min.js"></script>
<link href="HSA cohort descriptive statistics and data checking_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="HSA cohort descriptive statistics and data checking_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="HSA cohort descriptive statistics and data checking_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="HSA cohort descriptive statistics and data checking_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="HSA cohort descriptive statistics and data checking_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">HSA cohort data check and descriptive statistics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="hsa-cohort-data-check-and-descriptive-stats" class="level1">
<h1>HSA cohort data check and descriptive stats</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/ctaylor18/GitHub/GRLS_analyses/Output/HSA_cohort_all_RFs_data.csv"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(X,X,year_in_study_diagnosis_or_final_record_year.x,year_in_study_diagnosis_or_final_record_year.y,year_in_study_diagnosis_or_final_record_year.y.y))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#rename had HSA col</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">had_HSA =</span> had_HSA.x.x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Datachecks:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   0    1 
2554  490 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_types <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">class</span>(.x)[<span class="dv">1</span>])) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Column"</span>, <span class="at">values_to =</span> <span class="st">"Data_Type"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df_types)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 440 × 2
   Column                               Data_Type
   &lt;chr&gt;                                &lt;chr&gt;    
 1 subject_id                           character
 2 MDI_quintile                         integer  
 3 MDI.rate                             numeric  
 4 area_type_mode_5yrs_prior            character
 5 house_type_mode_5yrs_prior           character
 6 water_source_mode_5yrs_prior         character
 7 pipes_metal_any_mode_5yrs_prior      integer  
 8 pipes_plastic_any_mode_5yrs_prior    integer  
 9 heating_fuel_primary_mode_5yrs_prior character
10 cooking_fuel_primary_mode_5yrs_prior character
# ℹ 430 more rows</code></pre>
</div>
</div>
<section id="summary-stats-for-columns" class="level2">
<h2 class="anchored" data-anchor-id="summary-stats-for-columns">Summary stats for columns:</h2>
<section id="household" class="level3">
<h3 class="anchored" data-anchor-id="household">Household:</h3>
<section id="house-location" class="level4">
<h4 class="anchored" data-anchor-id="house-location">House location</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>area_type_mode_5yrs_prior, HSA<span class="sc">$</span>had_HSA)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
              0    1
  rural     728  141
  suburban 1427  296
  urban     198   41</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          
                   0         1
  rural    25.715295  4.980572
  suburban 50.406217 10.455669
  urban     6.993995  1.448252</code></pre>
</div>
</div>
</section>
<section id="mdi" class="level4">
<h4 class="anchored" data-anchor-id="mdi">MDI</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>MDI_quintile)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      1   2   3   4   5
  0 880 568 421 215 208
  1 174  98  89  36  40</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
            1         2         3         4         5
  0 32.246244 20.813485 15.426896  7.878344  7.621840
  1  6.375962  3.591059  3.261268  1.319165  1.465738</code></pre>
</div>
</div>
</section>
<section id="house-type" class="level4">
<h4 class="anchored" data-anchor-id="house-type">House type</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>house_type_mode_5yrs_prior)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    apartment/condo/townhome motor home single family
  0                      131          2          2220
  1                       33          0           445</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    apartment/condo/townhome  motor home single family
  0               4.62734016  0.07064641   78.41752031
  1               1.16566584  0.00000000   15.71882727</code></pre>
</div>
</div>
</section>
<section id="water-source" class="level4">
<h4 class="anchored" data-anchor-id="water-source">Water source</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>water_source_mode_5yrs_prior)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    municipal other well
  0      1718    18  617
  1       355     5  118</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
     municipal      other       well
  0 60.6852702  0.6358177 21.7944189
  1 12.5397386  0.1766160  4.1681385</code></pre>
</div>
</div>
<p>Primary heat source</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>heating_fuel_primary_mode_5yrs_prior)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    electric natural gas natural_gas  oil other propane renewable unknown wood
  0      572        1302           1  221    18     176        17       5   41
  1      127         274           0   25     2      34         3       1   12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       electric natural gas natural_gas         oil       other     propane
  0 20.20487460 45.99081597  0.03532321  7.80642882  0.63581773  6.21688449
  1  4.48604733  9.67855881  0.00000000  0.88308018  0.07064641  1.20098905
   
      renewable     unknown        wood
  0  0.60049452  0.17661604  1.44825150
  1  0.10596962  0.03532321  0.42387849</code></pre>
</div>
</div>
</section>
<section id="primary-cooking-fuel" class="level4">
<h4 class="anchored" data-anchor-id="primary-cooking-fuel">Primary cooking fuel</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>cooking_fuel_primary_mode_5yrs_prior)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    electric natural gas propane unknown
  0     1274         878     199       2
  1      236         197      45       0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       electric natural gas     propane     unknown
  0 45.00176616 31.01377605  7.02931826  0.07064641
  1  8.33627693  6.95867185  1.58954433  0.00000000</code></pre>
</div>
</div>
</section>
<section id="metal-pipes" class="level4">
<h4 class="anchored" data-anchor-id="metal-pipes">Metal pipes</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>pipes_metal_any_mode_5yrs_prior)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       0    1
  0 1115 1238
  1  220  258</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
            0         1
  0 39.385376 43.730131
  1  7.771106  9.113387</code></pre>
</div>
</div>
</section>
<section id="plastic-pipes" class="level4">
<h4 class="anchored" data-anchor-id="plastic-pipes">Plastic pipes</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>pipes_plastic_any_mode_5yrs_prior)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       0    1
  0 1159 1194
  1  240  238</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
            0         1
  0 40.939597 42.175910
  1  8.477570  8.406923</code></pre>
</div>
</div>
</section>
<section id="region" class="level4">
<h4 class="anchored" data-anchor-id="region">Region</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>region_name_mode_5yrs_prior)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
        midwest mountain northeast pacific south
  0 120     295      186       244     177   390
  1  22      57       38        54      44    96</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
                midwest  mountain northeast   pacific     south
  0  6.964597 17.121300 10.795125 14.161346 10.272780 22.634939
  1  1.276843  3.308183  2.205456  3.134068  2.553685  5.571677</code></pre>
</div>
</div>
</section>
<section id="state" class="level4">
<h4 class="anchored" data-anchor-id="state">State</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>state_mode_5yrs_prior)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
     al  ar  az  ca  co  ct  de  fl  ga  ia  id  il  in  ks  ky  la  ma  md  me
  0   9   9  29 129 125  18  11 101  34  18   8  46  29  11   9   6  49  40  29
  1   0   1   4  30  28   3   3  25  10   4   1   6   3   2   5   1  12   7   7
   
     mi  mn  mo  ms  mt  nc  nd  ne  nh  nj  nm  nv  ny  oh  ok  or  pa  ri  sc
  0  65  31  24   4  15  66   2   9  10  29   3   8  41  37   7  25  60   8  27
  1   9   4   4   2   1  22   2   0   3   4   1   2  15  11   2   5  12   3   5
   
     sd  tn  tx  ut  va  vt  wa  wi  wv  wy
  0   6  25  30  11  56  12  45  39   4   3
  1   2   1   7   1   9   1  13  14   4   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
            al         ar         az         ca         co         ct
  0 0.52234475 0.52234475 1.68311085 7.48694138 7.25478816 1.04468950
  1 0.00000000 0.05803831 0.23215322 1.74114916 1.62507255 0.17411492
   
            de         fl         ga         ia         id         il
  0 0.63842136 5.86186883 1.97330238 1.04468950 0.46430644 2.66976204
  1 0.17411492 1.45095763 0.58038305 0.23215322 0.05803831 0.34822983
   
            in         ks         ky         la         ma         md
  0 1.68311085 0.63842136 0.52234475 0.34822983 2.84387696 2.32153221
  1 0.17411492 0.11607661 0.29019153 0.05803831 0.69645966 0.40626814
   
            me         mi         mn         mo         ms         mt
  0 1.68311085 3.77248984 1.79918746 1.39291933 0.23215322 0.87057458
  1 0.40626814 0.52234475 0.23215322 0.23215322 0.11607661 0.05803831
   
            nc         nd         ne         nh         nj         nm
  0 3.83052815 0.11607661 0.52234475 0.58038305 1.68311085 0.17411492
  1 1.27684272 0.11607661 0.00000000 0.17411492 0.23215322 0.05803831
   
            nv         ny         oh         ok         or         pa
  0 0.46430644 2.37957052 2.14741730 0.40626814 1.45095763 3.48229832
  1 0.11607661 0.87057458 0.63842136 0.11607661 0.29019153 0.69645966
   
            ri         sc         sd         tn         tx         ut
  0 0.46430644 1.56703424 0.34822983 1.45095763 1.74114916 0.63842136
  1 0.17411492 0.29019153 0.11607661 0.05803831 0.40626814 0.05803831
   
            va         vt         wa         wi         wv         wy
  0 3.25014510 0.69645966 2.61172374 2.26349391 0.23215322 0.17411492
  1 0.52234475 0.05803831 0.75449797 0.81253627 0.23215322 0.00000000</code></pre>
</div>
</div>
</section>
</section>
<section id="exposures" class="level3">
<h3 class="anchored" data-anchor-id="exposures">Exposures:</h3>
<section id="aerosol" class="level4">
<h4 class="anchored" data-anchor-id="aerosol">Aerosol</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>use_aerosol_exposed_5yrs_prior)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 1288 1266
  1  243  247</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
           No       Yes
  0 42.312746 41.590013
  1  7.982917  8.114323</code></pre>
</div>
</div>
<p>Air cleaner</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>use_air_cleaner_exposed_5yrs_prior)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 1916  638
  1  373  117</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
           No       Yes
  0 62.943495 20.959264
  1 12.253614  3.843627</code></pre>
</div>
</div>
</section>
<section id="hepa-filter" class="level4">
<h4 class="anchored" data-anchor-id="hepa-filter">Hepa filter</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>use_hepa_filter_exposed_5yrs_prior)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 1322 1232
  1  235  255</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
           No       Yes
  0 43.429698 40.473062
  1  7.720105  8.377135</code></pre>
</div>
</div>
</section>
<section id="moth-balls" class="level4">
<h4 class="anchored" data-anchor-id="moth-balls">Moth balls</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>use_moth_balls_exposed_5yrs_prior)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 2506   48
  1  484    6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
            No        Yes
  0 82.3258870  1.5768725
  1 15.9001314  0.1971091</code></pre>
</div>
</div>
</section>
<section id="incensecandles" class="level4">
<h4 class="anchored" data-anchor-id="incensecandles">Incense/candles</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>use_incense_or_candles_exposed_5yrs_prior)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 1157 1397
  1  229  261</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
           No       Yes
  0 38.009198 45.893561
  1  7.522996  8.574244</code></pre>
</div>
</div>
</section>
<section id="smoke-exposure" class="level4">
<h4 class="anchored" data-anchor-id="smoke-exposure">Smoke exposure</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>smoke_exposure_exposed_5yrs_prior)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 2263  291
  1  436   54</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
           No       Yes
  0 74.342970  9.559790
  1 14.323259  1.773982</code></pre>
</div>
</div>
</section>
<section id="smoke-hours" class="level4">
<h4 class="anchored" data-anchor-id="smoke-hours">Smoke hours</h4>
<ul>
<li>quartiles split this</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_smoke =</span> <span class="fu">mean</span>(hours_of_smoke_exposure_hours_5yrs_prior, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_smoke =</span> <span class="fu">median</span>(hours_of_smoke_exposure_hours_5yrs_prior, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_smoke =</span> <span class="fu">sd</span>(hours_of_smoke_exposure_hours_5yrs_prior, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_smoke =</span> <span class="fu">min</span>(hours_of_smoke_exposure_hours_5yrs_prior, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_smoke=</span> <span class="fu">max</span>(hours_of_smoke_exposure_hours_5yrs_prior, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(hours_of_smoke_exposure_hours_5yrs_prior))</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_smoke median_smoke sd_smoke min_smoke max_smoke    n n_missing
1   1.917378            0 11.32247         0       368 3044         0</code></pre>
</div>
</div>
</section>
<section id="insecticide-around-house" class="level4">
<h4 class="anchored" data-anchor-id="insecticide-around-house">Insecticide around house</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>any_treated_insects_exposed_5yrs_prior)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 1252 1302
  1  212  278</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          No      Yes
  0 41.13009 42.77267
  1  6.96452  9.13272</code></pre>
</div>
</div>
</section>
<section id="weed-killer-around-house" class="level4">
<h4 class="anchored" data-anchor-id="weed-killer-around-house">Weed killer around house</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>any_treated_weeds_exposed_5yrs_prior)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 1242 1312
  1  189  301</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
           No       Yes
  0 40.801577 43.101183
  1  6.208936  9.888305</code></pre>
</div>
</div>
</section>
<section id="fertiliser-around-house" class="level4">
<h4 class="anchored" data-anchor-id="fertiliser-around-house">Fertiliser around house</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>any_treated_fertilizer_exposed_5yrs_prior)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
      No  Yes
  0 1148 1406
  1  163  327</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
           No       Yes
  0 37.713535 46.189225
  1  5.354796 10.742444</code></pre>
</div>
</div>
</section>
</section>
<section id="comorbidities" class="level3">
<h3 class="anchored" data-anchor-id="comorbidities">Comorbidities:</h3>
<section id="did-dogs-have-a-chronic-comorbidity-within-5y" class="level4">
<h4 class="anchored" data-anchor-id="did-dogs-have-a-chronic-comorbidity-within-5y">Did dogs have a chronic comorbidity within 5y?</h4>
<p>NB. many dogs did not have a comorbidity, this may need removing?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>chronic_inflam_present_5y)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       0    1
  0 2494   60
  1  476   14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
             0          1
  0 81.9316689  1.9710907
  1 15.6373193  0.4599212</code></pre>
</div>
</div>
</section>
<section id="number-of-comorbdities-recorded-in-lifetime" class="level4">
<h4 class="anchored" data-anchor-id="number-of-comorbdities-recorded-in-lifetime">Number of comorbdities recorded in lifetime:</h4>
</section>
<section id="specific-chronic-comorbidities" class="level4">
<h4 class="anchored" data-anchor-id="specific-chronic-comorbidities">Specific chronic comorbidities</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(HSA<span class="sc">$</span>all_comorbidities_ever)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
                                                                                                            
                                                                                                       2779 
                                                                                                  anaplasma 
                                                                                                          6 
                                                            anaplasma_anaplasma_lyme_disease_hypothyroidism 
                                                                                                          1 
                                                              anaplasma_anaplasma_lyme_disease_lyme_disease 
                                                                                                          1 
                                                                                         anaplasma_coccidia 
                                                                                                          1 
                                                                                          anaplasma_giardia 
                                                                                                          1 
                                                                                   anaplasma_hypothyroidism 
                                                                                                          1 
                                                     anaplasma_hypothyroidism_hypothyroidism_osteoarthritis 
                                                                                                          1 
                                                                                     anaplasma_lyme_disease 
                                                                                                          1 
                                                                        anaplasma_lyme_disease_lyme_disease 
                                                                                                          2 
                                                                                   anaplasma_osteoarthritis 
                                                                                                          1 
                                                                      anaplasma_pancreatitis_osteoarthritis 
                                                                                                          1 
                                                                               anaplasma_ticks_lyme_disease 
                                                                                                          1 
                                                           autoimmune_thyroiditis_roundworms_hypothyroidism 
                                                                                                          1 
                                                                                             cardiomyopathy 
                                                                                                          3 
                                                                    chronic_colitis_giardia_chronic_colitis 
                                                                                                          1 
                                                                            chronic_colitis_giardia_giardia 
                                                                                                          1 
                                  chronic_colitis_giardia_tracheobronchitis_tracheobronchitis_megaesophagus 
                                                                                                          1 
                                                                               chronic_colitis_lyme_disease 
                                                                                                          1 
                                                                                                   coccidia 
                                                                                                          1 
                                                           coccidia_chronic_colitis_coccidia_osteoarthritis 
                                                                                                          1 
                                                                                coccidia_coccidia_hookworms 
                                                                                                          1 
                                                                               coccidia_coccidia_roundworms 
                                                                                                          1 
                                                                       coccidia_coccidia_roundworms_giardia 
                                                                                                          1 
                                              coccidia_giardia_hypothyroidism_hypothyroidism_osteoarthritis 
                                                                                                          1 
                                                                               coccidia_hookworms_hookworms 
                                                                                                          1 
                                                                                    coccidia_hypothyroidism 
                                                                                                          1 
                                                          coccidia_lyme_disease_osteoarthritis_pancreatitis 
                                                                                                          1 
                                                         coccidia_osteoarthritis_coccidia_diabetes_mellitus 
                                                                                                          1 
                                                                                        coccidia_roundworms 
                                                                                                          1 
                                                                              coccidia_roundworms_hookworms 
                                                                                                          1 
                                                                                coccidia_tapeworms_coccidia 
                                                                                                          1 
                                                                                 coccidia_tracheobronchitis 
                                                                                                          1 
                       coccidia_tracheobronchitis_pancreatitis_hypercalcemia_pancreatitis_tracheobronchitis 
                                                                                                          1 
                                                               coccidia_tracheobronchitis_tracheobronchitis 
                                                                                                          1 
                                                                                           coccidia_uveitis 
                                                                                                          1 
                                          ear_mites_tracheobronchitis_giardia_roundworms_giardia_roundworms 
                                                                                                          1 
                                                                                                  ehrlichia 
                                                                                                          3 
                                                                                                      fleas 
                                                                                                          3 
                                                         fleas_cardiomyopathy_cardiomyopathy_osteoarthritis 
                                                                                                          1 
                                                                                           fungal_infection 
                                                                                                          1 
                                                                                                    giardia 
                                                                                                          9 
                                                                             giardia_anaplasma_lyme_disease 
                                                                                                          1 
                                                                                     giardia_cardiomyopathy 
                                                                                                          1 
                                                                 giardia_coccidia_giardia_tracheobronchitis 
                                                                                                          1 
                                                                                            giardia_eimeria 
                                                                                                          1 
                                                           giardia_giardia_tracheobronchitis_cardiomyopathy 
                                                                                                          1 
                                                                               giardia_hookworms_roundworms 
                                                                                                          1 
                                                                                   giardia_isospora_giardia 
                                                                                                          1 
                                                            giardia_isospora_tapeworms_whipworms_roundworms 
                                                                                                          1 
                                                           giardia_lyme_disease_ehrlichia_giardia_ehrlichia 
                                                                                                          1 
                                                                          giardia_lyme_disease_lyme_disease 
                                                                                                          1 
                                     giardia_lyme_disease_roundworms_giardia_lyme_disease_tracheobronchitis 
                                                                                                          1 
                                                               giardia_lyme_disease_roundworms_lyme_disease 
                                                                                                          1 
                                           giardia_lyme_disease_tracheobronchitis_giardia_tracheobronchitis 
                                                                                                          1 
                                                                                     giardia_osteoarthritis 
                                                                                                          2 
                                                                                 giardia_parvovirus_giardia 
                                                                                                          1 
                                                                               giardia_roundworms_ehrlichia 
                                                                                                          1 
                                                                                 giardia_roundworms_giardia 
                                                                                                          2 
                                                            giardia_roundworms_tracheobronchitis_roundworms 
                                                                                                          1 
                                          giardia_tracheobronchitis_hookworms_osteoarthritis_osteoarthritis 
                                                                                                          1 
                                            giardia_tracheobronchitis_hypothyroidism_giardia_hypothyroidism 
                                                                                                          1 
                                                                giardia_tracheobronchitis_tracheobronchitis 
                                                                                                          2 
                                                          heartworm_infection_hookworms_whipworms_whipworms 
                                                                                                          1 
                                                                                                  hookworms 
                                                                                                          2 
                                                                               hookworms_coccidia_hookworms 
                                                                                                          1 
                                   hookworms_fleas_pigmentary_uveitis_ticks_pigmentary_uveitis_lyme_disease 
                                                                                                          1 
                                                                                          hookworms_giardia 
                                                                                                          1 
                 hookworms_hypothyroidism_pancreatic_insufficiency_pancreatitis_pancreatitis_osteoarthritis 
                                                                                                          1 
                                    hookworms_lyme_disease_coccidia_hookworms_coccidia_anaplasma_roundworms 
                                                                                                          1 
                                                                                   hookworms_osteoarthritis 
                                                                                                          1 
                                                                             hookworms_ticks_osteoarthritis 
                                                                                                          1 
                                                                   hypertension_hypothyroidism_hypertension 
                                                                                                          1 
                                                                                             hypothyroidism 
                                                                                                         11 
                                          hypothyroidism_anaplasma_anaplasma_lyme_disease_tracheobronchitis 
                                                                                                          1 
                                                                               hypothyroidism_hypercalcemia 
                                                                                                          1 
                                                                                hypothyroidism_hypertension 
                                                                                                          1 
                                                                 hypothyroidism_hypertension_hypothyroidism 
                                                                                                          1 
                                          hypothyroidism_hypothyroidism_tracheobronchitis_tracheobronchitis 
                                                                                                          1 
                                                                                hypothyroidism_lyme_disease 
                                                                                                          1 
                                                                              hypothyroidism_osteoarthritis 
                                                                                                          1 
                    hypothyroidism_rocky_mountain_spotted_fever_rocky_mountain_spotted_fever_hypothyroidism 
                                                                                                          1 
                                                                           hypothyroidism_tracheobronchitis 
                                                                                                          1 
                              keratoconjunctivitis_sicca_uveitis_osteoarthritis_osteoarthritis_hypertension 
                                                                                                          1 
                                                                                               lyme_disease 
                                                                                                         14 
                                                                                     lyme_disease_anaplasma 
                                                                                                          2 
                                                                        lyme_disease_anaplasma_lyme_disease 
                                                                                                          3 
                                                              lyme_disease_anaplasma_lyme_disease_anaplasma 
                                                                                                          1 
                                               lyme_disease_anaplasma_lyme_disease_anaplasma_hypothyroidism 
                                                                                                          1 
                                                                  lyme_disease_anaplasma_lyme_disease_fleas 
                                                                                                          1 
                                                         lyme_disease_anaplasma_lyme_disease_osteoarthritis 
                                                                                                          1 
                                                                         lyme_disease_coccidia_lyme_disease 
                                                                                                          1 
                                                                              lyme_disease_cushings_disease 
                                                                                                          1 
                                                                                lyme_disease_hypothyroidism 
                                                                                                          1 
                                                                   lyme_disease_hypothyroidism_lyme_disease 
                                                                                                          1 
                                                                lyme_disease_lyme_disease_tracheobronchitis 
                                                                                                          1 
                                                                                lyme_disease_osteoarthritis 
                                                                                                          1 
                                                                       lyme_disease_roundworms_lyme_disease 
                                                                                                          2 
                                                                                         lyme_disease_ticks 
                                                                                                          1 
                                                                  lyme_disease_ticks_anaplasma_lyme_disease 
                                                                                                          1 
                                                                             lyme_disease_tracheobronchitis 
                                                                                                          1 
                                                                   lyme_disease_tracheobronchitis_anaplasma 
                                                                                                          1 
                                                          lyme_disease_tracheobronchitis_pigmentary_uveitis 
                                                                                                          1 
                                                                                             osteoarthritis 
                                                                                                         11 
                                                                              osteoarthritis_hypothyroidism 
                                                                                                          1 
                                           osteoarthritis_hypothyroidism_chronic_colitis_coccidia_hookworms 
                                                                                                          1 
                                                                                osteoarthritis_lyme_disease 
                                                                                                          1 
                                                                          osteoarthritis_pigmentary_uveitis 
                                                                                                          1 
                                                                                     osteoarthritis_uveitis 
                                                                                                          1 
                                                                                   osteoarthritis_whipworms 
                                                                                                          1 
                                                                                               pancreatitis 
                                                                                                          1 
                                                                     pancreatitis_lyme_disease_pancreatitis 
                                                                                                          1 
                                                                                         pigmentary_uveitis 
                                                                                                          5 
pigmentary_uveitis_keratoconjunctivitis_sicca_pigmentary_uveitis_uveitis_keratoconjunctivitis_sicca_uveitis 
                                                                                                          1 
                                                       pigmentary_uveitis_osteoarthritis_pigmentary_uveitis 
                                                                                                          1 
                                                      pigmentary_uveitis_pigmentary_uveitis_uveitis_uveitis 
                                                                                                          1 
                                                                       pigmentary_uveitis_tracheobronchitis 
                                                                                                          1 
                                                                                 pigmentary_uveitis_uveitis 
                                                                                                          1 
                                                                               rheumatoid_arthritis_uveitis 
                                                                                                          1 
                                                                                                 roundworms 
                                                                                                          3 
                                                                                       roundworms_anaplasma 
                                                                                                          1 
                                                                     roundworms_coccidia_coccidia_hookworms 
                                                                                                          1 
                                                           roundworms_fleas_roundworms_hookworms_roundworms 
                                                                                                          1 
                                                                        roundworms_hypercalcemia_roundworms 
                                                                                                          1 
                                                                                  roundworms_hypothyroidism 
                                                                                                          1 
                  roundworms_hypothyroidism_granuloma_lyme_disease_hypothyroidism_lyme_disease_lyme_disease 
                                                                                                          1 
                                     roundworms_hypothyroidism_osteoarthritis_hypothyroidism_osteoarthritis 
                                                                                                          1 
              roundworms_hypothyroidism_pancreatitis_malabsorptive_disorder_pancreatitis_pigmentary_uveitis 
                                                                                                          1 
                                                                                    roundworms_lyme_disease 
                                                                                                          1 
          roundworms_lyme_disease_tracheobronchitis_malabsorptive_disorder_anaplasma_anaplasma_lyme_disease 
                                                                                                          1 
                                                             roundworms_osteoarthritis_ticks_osteoarthritis 
                                                                                                          1 
                                                                              roundworms_pigmentary_uveitis 
                                                                                                          1 
                                                  roundworms_roundworms_tracheobronchitis_tracheobronchitis 
                                                                                                          1 
                                                         roundworms_tapeworms_anaplasma_ehrlichia_anaplasma 
                                                                                                          1 
                                                                        roundworms_tapeworms_hypothyroidism 
                                                                                                          1 
                                                              roundworms_tapeworms_roundworms_leptospirosis 
                                                                                                          1 
                                                                               roundworms_tracheobronchitis 
                                                                                                          1 
                                                                roundworms_tracheobronchitis_osteoarthritis 
                                                                                                          1 
                                                                 roundworms_uveitis_giardia_chronic_colitis 
                                                                                                          1 
                                           tapeworms_lyme_disease_chronic_colitis_hookworms_chronic_colitis 
                                                                                                          1 
                                                        tapeworms_lyme_disease_fleas_ehrlichia_lyme_disease 
                                                                                                          1 
                                                                               tapeworms_pigmentary_uveitis 
                                                                                                          1 
                                                                                tapeworms_tracheobronchitis 
                                                                                                          1 
                                                              tapeworms_tracheobronchitis_tracheobronchitis 
                                                                                                          1 
                                                                                                      ticks 
                                                                                                          2 
                                                                            ticks_anaplasma_ticks_anaplasma 
                                                                                                          1 
                                                           ticks_giardia_rocky_mountain_spotted_fever_ticks 
                                                                                                          1 
                                                                                          tracheobronchitis 
                                                                                                         26 
                                                                                tracheobronchitis_anaplasma 
                                                                                                          1 
                                                                      tracheobronchitis_anaplasma_hookworms 
                                                                                                          1 
                                                                          tracheobronchitis_chronic_colitis 
                                                                                                          1 
                                                    tracheobronchitis_ehrlichia_uveitis_anaplasma_ehrlichia 
                                                                                                          1 
                                                                         tracheobronchitis_fungal_infection 
                                                                                                          1 
                                                   tracheobronchitis_hookworms_roundworms_tracheobronchitis 
                                                                                                          1 
                                                                           tracheobronchitis_hypothyroidism 
                                                                                                          1 
                                                                             tracheobronchitis_lyme_disease 
                                                                                                          2 
                                                                           tracheobronchitis_osteoarthritis 
                                                                                                          1 
                                                 tracheobronchitis_roundworms_osteoarthritis_osteoarthritis 
                                                                                                          1 
                                                         tracheobronchitis_ticks_keratoconjunctivitis_sicca 
                                                                                                          1 
                                                                                  tracheobronchitis_uveitis 
                                                                                                          2 
                                                       tracheobronchitis_uveitis_uveitis_coccidia_hookworms 
                                                                                                          1 
                                                                                                    uveitis 
                                                                                                          3 
                                                                                       uveitis_lyme_disease 
                                                                                                          1 
                                   uveitis_lyme_disease_anaplasma_lyme_disease_rocky_mountain_spotted_fever 
                                                                                                          1 
                                                                                 uveitis_pigmentary_uveitis 
                                                                                                          1 
                                                                                                  whipworms 
                                                                                                          2 
                                        whipworms_hypothyroidism_whipworms_hypothyroidism_diabetes_mellitus 
                                                                                                          1 
                                                                      whipworms_tracheobronchitis_whipworms 
                                                                                                          1 </code></pre>
</div>
</div>
</section>
<section id="group-chronic-comorbs-thematically" class="level4">
<h4 class="anchored" data-anchor-id="group-chronic-comorbs-thematically">Group chronic comorbs thematically</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>comorbs_unique <span class="ot">&lt;-</span> <span class="fu">unique</span>(HSA<span class="sc">$</span>comorbidities_lifetime)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>comorbs_unique2 <span class="ot">&lt;-</span> <span class="fu">unique</span>(HSA<span class="sc">$</span>comorbidities_no_min_year)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>intestinal_parasitism <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"giardia"</span>,<span class="st">"hookworms"</span>, <span class="st">"coccidia"</span>,<span class="st">"tapeworms"</span>,<span class="st">"whipworms"</span>,<span class="st">"roundworms"</span>,<span class="st">"eimeria"</span>,<span class="st">"isospora"</span>)</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>tick_borne_parasitism <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"lyme_disease"</span>,<span class="st">"anaplasma"</span>,<span class="st">"rocky_mountain_spotted_fever"</span>,<span class="st">"ticks"</span>,<span class="st">"ehrlichia"</span>)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>other_parasitism <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"fleas"</span>,<span class="st">"fungal_infection"</span>,<span class="st">"heartworm"</span>,<span class="st">"ear_mites"</span>)</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>infectious <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"leptospirosis"</span>,<span class="st">"parvovirus"</span>)</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>orthopaedic <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"osteoarthritis"</span>)</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>immune_mediated <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"uveitis"</span>,<span class="st">"autoimmune_thyroiditis"</span>,<span class="st">"keratoconjunctivitis_sicca"</span>,<span class="st">"megaesophagus"</span>,<span class="st">"diabetes_mellitus"</span>,<span class="st">"cushings_disease"</span>,<span class="st">"hypothyroidism"</span>,<span class="st">"granuloma"</span>)</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>cardiovascular <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cardiomyopathy"</span>,<span class="st">"hypertension"</span>)</span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>gastrointestinal <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"chronic_colitis"</span>,<span class="st">"pancreatitis"</span>,<span class="st">"malabsorptive_disorder"</span>)</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>inflammatory_other <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"tracheobronchitis"</span>, <span class="st">"hypercalcaemia"</span>,<span class="st">"pigmentary_uveitis"</span>)</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a><span class="co">#create new columns based on these lists</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to check presence of any condition in a category</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>check_condition <span class="ot">&lt;-</span> <span class="cf">function</span>(condition_list, condition_column) {</span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sapply</span>(condition_column, <span class="cf">function</span>(x) <span class="fu">any</span>(<span class="fu">str_detect</span>(x, <span class="fu">paste</span>(condition_list, <span class="at">collapse =</span> <span class="st">"|"</span>))))</span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new columns</span></span>
<span id="cb92-21"><a href="#cb92-21" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb92-22"><a href="#cb92-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb92-23"><a href="#cb92-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_intestinal_parasitism_chronic =</span> <span class="fu">check_condition</span>(intestinal_parasitism, comorbidities_5y),</span>
<span id="cb92-24"><a href="#cb92-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_tick_borne_parasitism_chronic =</span> <span class="fu">check_condition</span>(tick_borne_parasitism, comorbidities_5y),</span>
<span id="cb92-25"><a href="#cb92-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_other_parasitism_chronic =</span> <span class="fu">check_condition</span>(other_parasitism, comorbidities_5y),</span>
<span id="cb92-26"><a href="#cb92-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_infectious_chronic =</span> <span class="fu">check_condition</span>(infectious, comorbidities_5y),</span>
<span id="cb92-27"><a href="#cb92-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_orthopaedic_chronic =</span> <span class="fu">check_condition</span>(orthopaedic,comorbidities_5y),</span>
<span id="cb92-28"><a href="#cb92-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_immune_mediated_chronic =</span> <span class="fu">check_condition</span>(immune_mediated,comorbidities_5y),</span>
<span id="cb92-29"><a href="#cb92-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_cardiovascular_chronic =</span> <span class="fu">check_condition</span>(cardiovascular, comorbidities_5y),</span>
<span id="cb92-30"><a href="#cb92-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_gastrointestinal_chronic =</span> <span class="fu">check_condition</span>(gastrointestinal, comorbidities_5y),</span>
<span id="cb92-31"><a href="#cb92-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_inflammatory_other_chronic =</span> <span class="fu">check_condition</span>(inflammatory_other, comorbidities_5y)</span>
<span id="cb92-32"><a href="#cb92-32" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Count for these new groupings:</p>
<p>Parasitism</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_intestinal_parasitism_chronic)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2536   18
  1   485    5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
         FALSE       TRUE
  0 83.3114323  0.5913272
  1 15.9329829  0.1642576</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_tick_borne_parasitism_chronic)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2535   19
  1   483    7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
         FALSE       TRUE
  0 83.2785808  0.6241787
  1 15.8672799  0.2299606</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_other_parasitism_chronic)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2551    3
  1   490    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.80420499  0.09855453
  1 16.09724047  0.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_infectious_chronic)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE
  0  2554
  1   490</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       FALSE
  0 83.90276
  1 16.09724</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_orthopaedic_chronic)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2547    7
  1   489    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.67279895  0.22996058
  1 16.06438896  0.03285151</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_immune_mediated_chronic)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2541   13
  1   490    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
         FALSE       TRUE
  0 83.4756899  0.4270696
  1 16.0972405  0.0000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_cardiovascular_chronic)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2553    1
  1   490    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.86990802  0.03285151
  1 16.09724047  0.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_gastrointestinal_chronic)</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2553    1
  1   490    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.86990802  0.03285151
  1 16.09724047  0.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_inflammatory_other_chronic)</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2542   12
  1   489    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.50854139  0.39421813
  1 16.06438896  0.03285151</code></pre>
</div>
</div>
</section>
<section id="examining-conditions-that-are-considered-likely-chronic-inflammatory-once-diagnosed-without-needing-to-be-there-for-1y-in-records-but-only-within-final-5y" class="level4">
<h4 class="anchored" data-anchor-id="examining-conditions-that-are-considered-likely-chronic-inflammatory-once-diagnosed-without-needing-to-be-there-for-1y-in-records-but-only-within-final-5y">Examining conditions that are considered likely chronic inflammatory once diagnosed without needing to be there for &gt;1y in records (but only within final 5y)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_orthopaedic =</span> <span class="fu">check_condition</span>(orthopaedic,comorbidities_no_min_year),</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_immune_mediated =</span> <span class="fu">check_condition</span>(immune_mediated,comorbidities_no_min_year),</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_cardiovascular =</span> <span class="fu">check_condition</span>(cardiovascular, comorbidities_no_min_year),</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_gastrointestinal =</span> <span class="fu">check_condition</span>(gastrointestinal, comorbidities_no_min_year),</span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">comorb_inflammatory_other =</span> <span class="fu">check_condition</span>(inflammatory_other, comorbidities_no_min_year)</span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_orthopaedic)</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2544   10
  1   489    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.57424442  0.32851511
  1 16.06438896  0.03285151</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_immune_mediated)</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2525   29
  1   486    4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
         FALSE       TRUE
  0 82.9500657  0.9526938
  1 15.9658344  0.1314060</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_cardiovascular)</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2552    2
  1   490    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.83705650  0.06570302
  1 16.09724047  0.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_gastrointestinal_chronic)</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2553    1
  1   490    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.86990802  0.03285151
  1 16.09724047  0.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>comorb_inflammatory_other_chronic)</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    FALSE TRUE
  0  2542   12
  1   489    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
          FALSE        TRUE
  0 83.50854139  0.39421813
  1 16.06438896  0.03285151</code></pre>
</div>
</div>
</section>
<section id="study-year-of-first-chronic-inflammatory-condition-recorded" class="level4">
<h4 class="anchored" data-anchor-id="study-year-of-first-chronic-inflammatory-condition-recorded">Study year of first chronic inflammatory condition recorded</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_freq =</span> <span class="fu">mean</span>(study_year_first_chronic_inflam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_freq =</span> <span class="fu">median</span>(study_year_first_chronic_inflam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_freq =</span> <span class="fu">sd</span>(study_year_first_chronic_inflam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_freq =</span> <span class="fu">min</span>(study_year_first_chronic_inflam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_freq=</span> <span class="fu">max</span>(study_year_first_chronic_inflam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(study_year_first_chronic_inflam))</span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_freq median_freq  sd_freq min_freq max_freq    n n_missing
1  1.403774           1 1.870622        0        9 3044      2779</code></pre>
</div>
</div>
</section>
<section id="time-between-first-chronic-inflammatory-condition-and-endpoint-record" class="level4">
<h4 class="anchored" data-anchor-id="time-between-first-chronic-inflammatory-condition-and-endpoint-record">Time between first chronic inflammatory condition and endpoint record</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_freq =</span> <span class="fu">mean</span>(time_between_first_comorb_and_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_freq =</span> <span class="fu">median</span>(time_between_first_comorb_and_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_freq =</span> <span class="fu">sd</span>(time_between_first_comorb_and_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_freq =</span> <span class="fu">min</span>(time_between_first_comorb_and_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_freq=</span> <span class="fu">max</span>(time_between_first_comorb_and_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(time_between_first_comorb_and_endpoint))</span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_freq median_freq  sd_freq min_freq max_freq    n n_missing
1  6.343396           7 2.312475        1       10 3044      2779</code></pre>
</div>
</div>
</section>
</section>
<section id="activity-and-lifestyle" class="level3">
<h3 class="anchored" data-anchor-id="activity-and-lifestyle">Activity and lifestyle:</h3>
<section id="activity-frequency" class="level4">
<h4 class="anchored" data-anchor-id="activity-frequency">Activity frequency</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_freq =</span> <span class="fu">mean</span>(avg_frequency_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_freq =</span> <span class="fu">median</span>(avg_frequency_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_freq =</span> <span class="fu">sd</span>(avg_frequency_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_freq =</span> <span class="fu">min</span>(avg_frequency_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_freq=</span> <span class="fu">max</span>(avg_frequency_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_frequency_5y_prior_endpoint))</span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_freq median_freq  sd_freq min_freq max_freq    n n_missing
1  78.23189          80 11.72085       20      100 3044         9</code></pre>
</div>
</div>
</section>
<section id="activity-intensity" class="level4">
<h4 class="anchored" data-anchor-id="activity-intensity">Activity intensity</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_intensity =</span> <span class="fu">mean</span>(avg_intensity_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_intensity =</span> <span class="fu">median</span>(avg_intensity_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_intensity =</span> <span class="fu">sd</span>(avg_intensity_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_intensity =</span> <span class="fu">min</span>(avg_intensity_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_intensity=</span> <span class="fu">max</span>(avg_intensity_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_intensity_5y_prior_endpoint))</span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_intensity median_intensity sd_intensity min_intensity max_intensity    n
1       60.63235         61.33333     15.52936             0           100 3044
  n_missing
1         9</code></pre>
</div>
</div>
</section>
<section id="lifestyle" class="level4">
<h4 class="anchored" data-anchor-id="lifestyle">Lifestyle</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>main_lifestyle_category_mode_5yrs_prior)</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    breed/showing companion/pet competitive miscellaneous working
  0            52          2062         192            15      32
  1             7           435          22             6       8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    breed/showing companion/pet competitive miscellaneous    working
  0     1.8368068    72.8364535   6.7820558     0.5298481  1.1303426
  1     0.2472625    15.3655952   0.7771106     0.2119392  0.2825857</code></pre>
</div>
</div>
</section>
<section id="weight-nb.-in-lb---may-wish-to-convert-kg" class="level4">
<h4 class="anchored" data-anchor-id="weight-nb.-in-lb---may-wish-to-convert-kg">Weight (NB. in LB - may wish to convert kg)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_weight =</span> <span class="fu">mean</span>(avg_weight_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_weight =</span> <span class="fu">median</span>(avg_weight_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_weight =</span> <span class="fu">sd</span>(avg_weight_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_weight =</span> <span class="fu">min</span>(avg_weight_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_weight=</span> <span class="fu">max</span>(avg_weight_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb162-9"><a href="#cb162-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_weight_5y_prior_endpoint))</span>
<span id="cb162-10"><a href="#cb162-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_weight median_weight sd_weight min_weight max_weight    n n_missing
1    56.60242      54.55429  12.35897      21.53     165.95 3044       114</code></pre>
</div>
</div>
<p>Converting to kg and removing outliers</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_weight_5y_prior_endpoint_kg =</span> avg_weight_5y_prior_endpoint <span class="sc">*</span> <span class="fl">0.453</span>)</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a><span class="co">#how does data look now</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_weight =</span> <span class="fu">mean</span>(avg_weight_5y_prior_endpoint_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_weight =</span> <span class="fu">median</span>(avg_weight_5y_prior_endpoint_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_weight =</span> <span class="fu">sd</span>(avg_weight_5y_prior_endpoint_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_weight =</span> <span class="fu">min</span>(avg_weight_5y_prior_endpoint_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb164-12"><a href="#cb164-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_weight=</span> <span class="fu">max</span>(avg_weight_5y_prior_endpoint_kg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb164-13"><a href="#cb164-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb164-14"><a href="#cb164-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_weight_5y_prior_endpoint_kg))</span>
<span id="cb164-15"><a href="#cb164-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_weight median_weight sd_weight min_weight max_weight    n n_missing
1     25.6409      24.71309  5.598616    9.75309   75.17535 3044       114</code></pre>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove outliers &gt;1.5X above IQR</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(HSA<span class="sc">$</span>avg_weight_5y_prior_endpoint_kg, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(HSA<span class="sc">$</span>avg_weight_5y_prior_endpoint_kg, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb166-8"><a href="#cb166-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_weight_5y_prior_endpoint_kg_outliers_removed=</span> <span class="fu">ifelse</span>(avg_weight_5y_prior_endpoint_kg <span class="sc">&lt;</span> (Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR) <span class="sc">|</span> avg_weight_5y_prior_endpoint_kg <span class="sc">&gt;</span> (Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR), <span class="cn">NA</span>, avg_weight_5y_prior_endpoint_kg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co">#outlier removed dataset</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a><span class="co">#how does data look now</span></span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_weight =</span> <span class="fu">mean</span>(avg_weight_5y_prior_endpoint_kg_outliers_removed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_weight =</span> <span class="fu">median</span>(avg_weight_5y_prior_endpoint_kg_outliers_removed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_weight =</span> <span class="fu">sd</span>(avg_weight_5y_prior_endpoint_kg_outliers_removed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_weight =</span> <span class="fu">min</span>(avg_weight_5y_prior_endpoint_kg_outliers_removed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb167-10"><a href="#cb167-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_weight=</span> <span class="fu">max</span>(avg_weight_5y_prior_endpoint_kg_outliers_removed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb167-11"><a href="#cb167-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb167-12"><a href="#cb167-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_weight_5y_prior_endpoint_kg_outliers_removed))</span>
<span id="cb167-13"><a href="#cb167-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_weight median_weight sd_weight min_weight max_weight    n n_missing
1     25.5132      24.66094  5.340556    9.75309   41.52198 3044       132</code></pre>
</div>
</div>
</section>
<section id="height-nb.-in-inches--may-wish-to-convert-to-cm" class="level4">
<h4 class="anchored" data-anchor-id="height-nb.-in-inches--may-wish-to-convert-to-cm">Height (NB. in inches- may wish to convert to cm)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_height =</span> <span class="fu">mean</span>(avg_height_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_height =</span> <span class="fu">median</span>(avg_height_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_height =</span> <span class="fu">sd</span>(avg_height_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_height =</span> <span class="fu">min</span>(avg_height_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_height=</span> <span class="fu">max</span>(avg_height_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_height_5y_prior_endpoint))</span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_height median_height sd_height min_height max_height    n n_missing
1    24.06805            23  5.468722      17.54         59 3044      2144</code></pre>
</div>
</div>
<p>Convert to cm and remove outliers</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_height_5y_prior_endpoint_cm =</span> avg_height_5y_prior_endpoint <span class="sc">*</span> <span class="fl">2.54</span>)</span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a><span class="co">#how does data look now</span></span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_height =</span> <span class="fu">mean</span>(avg_height_5y_prior_endpoint_cm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_height =</span> <span class="fu">median</span>(avg_height_5y_prior_endpoint_cm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_height =</span> <span class="fu">sd</span>(avg_height_5y_prior_endpoint_cm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_height =</span> <span class="fu">min</span>(avg_height_5y_prior_endpoint_cm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_height=</span> <span class="fu">max</span>(avg_height_5y_prior_endpoint_cm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_height_5y_prior_endpoint_cm))</span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_height median_height sd_height min_height max_height    n n_missing
1    61.13285         58.42  13.89055    44.5516     149.86 3044      2144</code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove outliers &gt;1.5X above IQR</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(HSA<span class="sc">$</span>avg_height_5y_prior_endpoint_cm, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(HSA<span class="sc">$</span>avg_height_5y_prior_endpoint_cm, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_height_5y_prior_endpoint_cm_outliers_removed=</span> <span class="fu">ifelse</span>(avg_height_5y_prior_endpoint_cm <span class="sc">&lt;</span> (Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR) <span class="sc">|</span> avg_height_5y_prior_endpoint_cm <span class="sc">&gt;</span> (Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR), <span class="cn">NA</span>, avg_height_5y_prior_endpoint_cm))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bcs" class="level4">
<h4 class="anchored" data-anchor-id="bcs">BCS</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_bcs =</span> <span class="fu">mean</span>(avg_purina_BCS_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_bcs =</span> <span class="fu">median</span>(avg_purina_BCS_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_bcs=</span> <span class="fu">sd</span>(avg_purina_BCS_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_bcs =</span> <span class="fu">min</span>(avg_purina_BCS_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_bcs=</span> <span class="fu">max</span>(avg_purina_BCS_5y_prior_endpoint, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb174-8"><a href="#cb174-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb174-9"><a href="#cb174-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(avg_purina_BCS_5y_prior_endpoint))</span>
<span id="cb174-10"><a href="#cb174-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_bcs median_bcs    sd_bcs  min_bcs max_bcs    n n_missing
1 5.458328   5.285714 0.7767519 3.333333       9 3044      1361</code></pre>
</div>
</div>
</section>
</section>
<section id="reproduction" class="level3">
<h3 class="anchored" data-anchor-id="reproduction">Reproduction</h3>
<section id="neuter-status" class="level4">
<h4 class="anchored" data-anchor-id="neuter-status">Neuter status</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>neuter)</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Entire Neutered
  0    527     2027
  1     75      415</code></pre>
</div>
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       Entire  Neutered
  0 17.312746 66.590013
  1  2.463863 13.633377</code></pre>
</div>
</div>
</section>
<section id="sex-neuter-status-by-final-record" class="level4">
<h4 class="anchored" data-anchor-id="sex-neuter-status-by-final-record">Sex neuter status by final record</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>sex_status)</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Intact Female Intact Male Neutered Male Spayed Female
  0           183         344           919          1108
  1            11          64           213           202</code></pre>
</div>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Intact Female Intact Male Neutered Male Spayed Female
  0     6.0118265  11.3009198    30.1905388    36.3994744
  1     0.3613666   2.1024967     6.9973719     6.6360053</code></pre>
</div>
</div>
</section>
<section id="sex-status" class="level4">
<h4 class="anchored" data-anchor-id="sex-status">Sex status</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>sex)</span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       F    M
  0 1291 1263
  1  213  277</code></pre>
</div>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
            F         M
  0 42.411301 41.491459
  1  6.997372  9.099869</code></pre>
</div>
</div>
</section>
<section id="neutering-reason" class="level4">
<h4 class="anchored" data-anchor-id="neutering-reason">Neutering reason</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>neutered_reason)</span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       0 Behavioral Elective Medical Reason Unknown
  0  555         63     1772            156       8
  1   83          9      374             23       1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
              0  Behavioral    Elective Medical Reason     Unknown
  0 18.23258870  2.06964520 58.21287779     5.12483574  0.26281209
  1  2.72667543  0.29566360 12.28646518     0.75558476  0.03285151</code></pre>
</div>
</div>
</section>
<section id="age-at-neutering" class="level4">
<h4 class="anchored" data-anchor-id="age-at-neutering">Age at neutering</h4>
<p>NB. need to change the missing ones that are entire dogs to “not neutered”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="sc">%&gt;%</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_age_at_neuter_years =</span> <span class="fu">mean</span>(age_at_neuter_years, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb192-4"><a href="#cb192-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_age_at_neuter_years=</span> <span class="fu">median</span>(age_at_neuter_years, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb192-5"><a href="#cb192-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_age_at_neuter_years =</span> <span class="fu">sd</span>(age_at_neuter_years, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb192-6"><a href="#cb192-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_age_at_neuter_years =</span> <span class="fu">min</span>(age_at_neuter_years, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb192-7"><a href="#cb192-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_age_at_neuter_years=</span> <span class="fu">max</span>(age_at_neuter_years, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb192-8"><a href="#cb192-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb192-9"><a href="#cb192-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(age_at_neuter_years))</span>
<span id="cb192-10"><a href="#cb192-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean_age_at_neuter_years median_age_at_neuter_years sd_age_at_neuter_years
1                 1.919864                  0.8277778               2.163193
  min_age_at_neuter_years max_age_at_neuter_years    n n_missing
1               0.1527778                9.594086 3044      1794</code></pre>
</div>
</div>
</section>
<section id="ever-bred-from-neutered" class="level4">
<h4 class="anchored" data-anchor-id="ever-bred-from-neutered">Ever bred from neutered:</h4>
<p>NB. need to combine this with entire dog records for “ever bred from variable” which will include neutered and entire dogs</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>neutered_ever_bred)</span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       0    1
  0 2549    5
  1  489    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
              0           1
  0 83.73850197  0.16425756
  1 16.06438896  0.03285151</code></pre>
</div>
</div>
</section>
<section id="dogs-ever-bred-from-neutered-and-entire-dogs-m-and-f-dogs" class="level4">
<h4 class="anchored" data-anchor-id="dogs-ever-bred-from-neutered-and-entire-dogs-m-and-f-dogs">Dogs ever bred from (neutered and entire dogs, M and F dogs)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>ever_bred_from)</span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
       0    1
  0 2393  161
  1  452   38</code></pre>
</div>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
            0         1
  0 78.613666  5.289093
  1 14.848883  1.248357</code></pre>
</div>
</div>
</section>
</section>
<section id="medications" class="level3">
<h3 class="anchored" data-anchor-id="medications">Medications:</h3>
<section id="y-prior-to-endpoint" class="level4">
<h4 class="anchored" data-anchor-id="y-prior-to-endpoint">5y prior to endpoint:</h4>
<section id="anti-inflammatories" class="level5">
<h5 class="anchored" data-anchor-id="anti-inflammatories">Anti-inflammatories</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_inflam_5y_prior_endpoint)</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded  Q1  Q2  Q3  Q4
  0                   858                         146 538 343 425 244
  1                   145                           9 109  85  92  50</code></pre>
</div>
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            28.1865966                   4.7963206 17.6741130 11.2680683
  1             4.7634691                   0.2956636  3.5808147  2.7923784
   
            Q3         Q4
  0 13.9618922  8.0157687
  1  3.0223390  1.6425756</code></pre>
</div>
</div>
</section>
<section id="anti-microbials" class="level5">
<h5 class="anchored" data-anchor-id="anti-microbials">Anti-microbials</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_microbials_5y_prior_endpoint)</span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded  Q1  Q2  Q3  Q4
  0                   630                         146 455 583 326 414
  1                   112                           9  98 124  67  80</code></pre>
</div>
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            20.6964520                   4.7963206 14.9474376 19.1524310
  1             3.6793693                   0.2956636  3.2194481  4.0735874
   
            Q3         Q4
  0 10.7095926 13.6005256
  1  2.2010512  2.6281209</code></pre>
</div>
</div>
</section>
<section id="dietary-supplements" class="level5">
<h5 class="anchored" data-anchor-id="dietary-supplements">Dietary supplements</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_dietary_supplements_5y_prior_endpoint)</span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb210-3"><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  1707                         146  322  154   75  150
  1                   319                           9   67   36   21   38</code></pre>
</div>
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            56.0775296                   4.7963206 10.5781866  5.0591327
  1            10.4796321                   0.2956636  2.2010512  1.1826544
   
            Q3         Q4
  0  2.4638633  4.9277267
  1  0.6898817  1.2483574</code></pre>
</div>
</div>
</section>
<section id="enteric-medications" class="level5">
<h5 class="anchored" data-anchor-id="enteric-medications">Enteric medications</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_enteric_5y_prior_endpoint)</span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb214-3"><a href="#cb214-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q3   Q4
  0                  1885                         146  275  123  125
  1                   353                           9   76   22   30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q3
  0            61.9250986                   4.7963206  9.0341656  4.0407359
  1            11.5965834                   0.2956636  2.4967148  0.7227332
   
            Q4
  0  4.1064389
  1  0.9855453</code></pre>
</div>
</div>
</section>
<section id="fluid-metabolites" class="level5">
<h5 class="anchored" data-anchor-id="fluid-metabolites">Fluid metabolites</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_fluid_metabolites_5y_prior_endpoint)</span>
<span id="cb218-2"><a href="#cb218-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb218-3"><a href="#cb218-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q4
  0                  2383                         146   21    4
  1                   471                           9    8    2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q4
  0           78.28515112                  4.79632063  0.68988173  0.13140604
  1           15.47306176                  0.29566360  0.26281209  0.06570302</code></pre>
</div>
</div>
</section>
<section id="hormones" class="level5">
<h5 class="anchored" data-anchor-id="hormones">Hormones</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_hormones_and_related_5y_prior_endpoint)</span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb222-3"><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  2212                         146   69   39   45   43
  1                   439                           9   13    8   12    9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            72.6675427                   4.7963206  2.2667543  1.2812089
  1            14.4218134                   0.2956636  0.4270696  0.2628121
   
            Q3         Q4
  0  1.4783180  1.4126150
  1  0.3942181  0.2956636</code></pre>
</div>
</div>
</section>
<section id="immunologicals" class="level5">
<h5 class="anchored" data-anchor-id="immunologicals">Immunologicals</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_immunologicals_5y_prior_endpoint)</span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb226-3"><a href="#cb226-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  1791                         146  287  111  116  103
  1                   331                           9   58   30   38   24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            58.8370565                   4.7963206  9.4283837  3.6465177
  1            10.8738502                   0.2956636  1.9053876  0.9855453
   
            Q3         Q4
  0  3.8107753  3.3837057
  1  1.2483574  0.7884363</code></pre>
</div>
</div>
</section>
<section id="neurological" class="level5">
<h5 class="anchored" data-anchor-id="neurological">Neurological</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_neurological_5y_prior_endpoint)</span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  1585                         146  387  177   94  165
  1                   311                           9   68   43   20   39</code></pre>
</div>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            52.0696452                   4.7963206 12.7135348  5.8147175
  1            10.2168200                   0.2956636  2.2339028  1.4126150
   
            Q3         Q4
  0  3.0880420  5.4204993
  1  0.6570302  1.2812089</code></pre>
</div>
</div>
</section>
<section id="anti-parasite" class="level5">
<h5 class="anchored" data-anchor-id="anti-parasite">Anti-parasite</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_parasites_5y_prior_endpoint)</span>
<span id="cb234-2"><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb234-3"><a href="#cb234-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded  Q1  Q2  Q3  Q4
  0                   363                         146 668 595 463 319
  1                    76                           9 111 107  72 115</code></pre>
</div>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            11.9250986                   4.7963206 21.9448095 19.5466491
  1             2.4967148                   0.2956636  3.6465177  3.5151117
   
            Q3         Q4
  0 15.2102497 10.4796321
  1  2.3653088  3.7779238</code></pre>
</div>
</div>
</section>
<section id="anti-septic" class="level5">
<h5 class="anchored" data-anchor-id="anti-septic">Anti-septic</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_septics_5y_prior_endpoint)</span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q4
  0                  2289                         146   94   25
  1                   462                           9   14    5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q4
  0            75.1971091                   4.7963206  3.0880420  0.8212878
  1            15.1773982                   0.2956636  0.4599212  0.1642576</code></pre>
</div>
</div>
</section>
<section id="cardio-respiratory" class="level5">
<h5 class="anchored" data-anchor-id="cardio-respiratory">Cardio-respiratory</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_cardio_respiratory_5y_prior_endpoint)</span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb242-3"><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q3   Q4
  0                  2288                         146   79   18   23
  1                   458                           9   17    5    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q3
  0           75.16425756                  4.79632063  2.59526938  0.59132720
  1           15.04599212                  0.29566360  0.55847569  0.16425756
   
             Q4
  0  0.75558476
  1  0.03285151</code></pre>
</div>
</div>
</section>
<section id="diuretics" class="level5">
<h5 class="anchored" data-anchor-id="diuretics">Diuretics</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_diuretics_5y_prior_endpoint)</span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb246-3"><a href="#cb246-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q4
  0                  2392                         146   15    1
  1                   479                           9    2    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q4
  0           78.58081472                  4.79632063  0.49277267  0.03285151
  1           15.73587385                  0.29566360  0.06570302  0.00000000</code></pre>
</div>
</div>
</section>
<section id="anti-histamines" class="level5">
<h5 class="anchored" data-anchor-id="anti-histamines">Anti-histamines</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_hist_5y_prior_endpoint)</span>
<span id="cb250-2"><a href="#cb250-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb250-3"><a href="#cb250-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q3   Q4
  0                  2362                         146   32    5    9
  1                   470                           9    7    1    3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q3
  0           77.59526938                  4.79632063  1.05124836  0.16425756
  1           15.44021025                  0.29566360  0.22996058  0.03285151
   
             Q4
  0  0.29566360
  1  0.09855453</code></pre>
</div>
</div>
</section>
<section id="anti-virals" class="level5">
<h5 class="anchored" data-anchor-id="anti-virals">Anti-virals</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_viral_5y_prior_endpoint)</span>
<span id="cb254-2"><a href="#cb254-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb254-3"><a href="#cb254-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered   Q1
  0                  2408    0
  1                   480    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered          Q1
  0           83.35064036  0.00000000
  1           16.61474559  0.03461405</code></pre>
</div>
</div>
</section>
</section>
<section id="lifetime" class="level4">
<h4 class="anchored" data-anchor-id="lifetime">Lifetime:</h4>
<section id="anti-inflammatories-1" class="level5">
<h5 class="anchored" data-anchor-id="anti-inflammatories-1">Anti-inflammatories</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_inflam_lifetime)</span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded  Q1  Q2  Q3  Q4
  0                   689                         146 501 608 196 414
  1                   105                           9 101 138  46  91</code></pre>
</div>
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            22.6346912                   4.7963206 16.4586071 19.9737188
  1             3.4494087                   0.2956636  3.3180026  4.5335085
   
            Q3         Q4
  0  6.4388962 13.6005256
  1  1.5111695  2.9894875</code></pre>
</div>
</div>
</section>
<section id="anti-microbials-1" class="level5">
<h5 class="anchored" data-anchor-id="anti-microbials-1">Anti-microbials</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_microbials_lifetime)</span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb262-3"><a href="#cb262-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded  Q1  Q2  Q3  Q4
  0                   450                         146 671 427 405 455
  1                    64                           9 136  89  98  94</code></pre>
</div>
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            14.7831800                   4.7963206 22.0433640 14.0275953
  1             2.1024967                   0.2956636  4.4678055  2.9237845
   
            Q3         Q4
  0 13.3048620 14.9474376
  1  3.2194481  3.0880420</code></pre>
</div>
</div>
</section>
<section id="dietary-supplements-1" class="level5">
<h5 class="anchored" data-anchor-id="dietary-supplements-1">Dietary supplements</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_dietary_supplements_lifetime)</span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  1560                         146  358  186  156  148
  1                   287                           9   80   35   41   38</code></pre>
</div>
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            51.2483574                   4.7963206 11.7608410  6.1103811
  1             9.4283837                   0.2956636  2.6281209  1.1498029
   
            Q3         Q4
  0  5.1248357  4.8620237
  1  1.3469120  1.2483574</code></pre>
</div>
</div>
</section>
<section id="enteric-medications-1" class="level5">
<h5 class="anchored" data-anchor-id="enteric-medications-1">Enteric medications</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_enteric_lifetime)</span>
<span id="cb270-2"><a href="#cb270-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb270-3"><a href="#cb270-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q3   Q4
  0                  1734                         146  330  228  116
  1                   326                           9   89   42   24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q3
  0            56.9645204                   4.7963206 10.8409987  7.4901445
  1            10.7095926                   0.2956636  2.9237845  1.3797635
   
            Q4
  0  3.8107753
  1  0.7884363</code></pre>
</div>
</div>
<p>*convert to had/didnt have</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>HSA <span class="ot">&lt;-</span> HSA <span class="sc">%&gt;%</span></span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">enteric_lifetime2 =</span> <span class="fu">recode</span>(quartile_enteric_lifetime, <span class="st">"Q1"</span> <span class="ot">=</span> <span class="st">"drug_administered"</span>,</span>
<span id="cb274-3"><a href="#cb274-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Q4"</span><span class="ot">=</span><span class="st">"drug_administered"</span>))</span>
<span id="cb274-4"><a href="#cb274-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb274-5"><a href="#cb274-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(HSA<span class="sc">$</span>enteric_lifetime2</span>
<span id="cb274-6"><a href="#cb274-6" aria-hidden="true" tabindex="-1"></a>      )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
          drug_administered       drug_not_administered 
                        559                        2060 
medication_use_not_recorded                          Q3 
                        155                         270 </code></pre>
</div>
</div>
</section>
<section id="fluid-metabolites-1" class="level5">
<h5 class="anchored" data-anchor-id="fluid-metabolites-1">Fluid metabolites</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb276"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_fluid_metabolites_lifetime)</span>
<span id="cb276-2"><a href="#cb276-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb276-3"><a href="#cb276-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q4
  0                  2364                         146   37    7
  1                   469                           9    9    3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q4
  0           77.66097240                  4.79632063  1.21550591  0.22996058
  1           15.40735874                  0.29566360  0.29566360  0.09855453</code></pre>
</div>
</div>
</section>
<section id="hormones-1" class="level5">
<h5 class="anchored" data-anchor-id="hormones-1">Hormones</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_hormones_and_related_lifetime)</span>
<span id="cb280-2"><a href="#cb280-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb280-3"><a href="#cb280-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  2197                         146   81   39   42   49
  1                   435                           9   15   10   10   11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            72.1747700                   4.7963206  2.6609724  1.2812089
  1            14.2904074                   0.2956636  0.4927727  0.3285151
   
            Q3         Q4
  0  1.3797635  1.6097240
  1  0.3285151  0.3613666</code></pre>
</div>
</div>
</section>
<section id="immunologicals-1" class="level5">
<h5 class="anchored" data-anchor-id="immunologicals-1">Immunologicals</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_immunologicals_lifetime)</span>
<span id="cb284-2"><a href="#cb284-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb284-3"><a href="#cb284-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  1774                         146  289  112  116  117
  1                   322                           9   62   32   37   28</code></pre>
</div>
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            58.2785808                   4.7963206  9.4940867  3.6793693
  1            10.5781866                   0.2956636  2.0367937  1.0512484
   
            Q3         Q4
  0  3.8107753  3.8436268
  1  1.2155059  0.9198423</code></pre>
</div>
</div>
</section>
<section id="neurological-1" class="level5">
<h5 class="anchored" data-anchor-id="neurological-1">Neurological</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_neurological_lifetime)</span>
<span id="cb288-2"><a href="#cb288-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb288-3"><a href="#cb288-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q2   Q3   Q4
  0                  1435                         146  430  192  122  229
  1                   278                           9   82   43   27   51</code></pre>
</div>
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0            47.1419185                   4.7963206 14.1261498  6.3074901
  1             9.1327201                   0.2956636  2.6938239  1.4126150
   
            Q3         Q4
  0  4.0078844  7.5229961
  1  0.8869908  1.6754271</code></pre>
</div>
</div>
</section>
<section id="anti-parasite-1" class="level5">
<h5 class="anchored" data-anchor-id="anti-parasite-1">Anti-parasite</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_parasites_lifetime)</span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded  Q1  Q2  Q3  Q4
  0                   229                         146 680 569 453 477
  1                    32                           9 100 117 116 116</code></pre>
</div>
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded         Q1         Q2
  0             7.5229961                   4.7963206 22.3390276 18.6925099
  1             1.0512484                   0.2956636  3.2851511  3.8436268
   
            Q3         Q4
  0 14.8817346 15.6701708
  1  3.8107753  3.8107753</code></pre>
</div>
</div>
</section>
<section id="anti-septic-1" class="level5">
<h5 class="anchored" data-anchor-id="anti-septic-1">Anti-septic</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_septics_lifetime)</span>
<span id="cb296-2"><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb296-3"><a href="#cb296-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q3   Q4
  0                  2237                         146  126   34   11
  1                   454                           9   19    6    2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q3
  0           73.48883049                  4.79632063  4.13929041  1.11695138
  1           14.91458607                  0.29566360  0.62417871  0.19710907
   
             Q4
  0  0.36136662
  1  0.06570302</code></pre>
</div>
</div>
</section>
<section id="cardio-respiratory-1" class="level5">
<h5 class="anchored" data-anchor-id="cardio-respiratory-1">Cardio-respiratory</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_cardio_respiratory_lifetime)</span>
<span id="cb300-2"><a href="#cb300-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb300-3"><a href="#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q3   Q4
  0                  2256                         146   96   30   26
  1                   449                           9   24    6    2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q3
  0           74.11300920                  4.79632063  3.15374507  0.98554534
  1           14.75032852                  0.29566360  0.78843627  0.19710907
   
             Q4
  0  0.85413929
  1  0.06570302</code></pre>
</div>
</div>
</section>
<section id="diuretics-1" class="level5">
<h5 class="anchored" data-anchor-id="diuretics-1">Diuretics</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_diuretics_lifetime)</span>
<span id="cb304-2"><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb304-3"><a href="#cb304-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q4
  0                  2391                         146   16    1
  1                   479                           9    2    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q4
  0           78.54796321                  4.79632063  0.52562418  0.03285151
  1           15.73587385                  0.29566360  0.06570302  0.00000000</code></pre>
</div>
</div>
</section>
<section id="anti-histamines-1" class="level5">
<h5 class="anchored" data-anchor-id="anti-histamines-1">Anti-histamines</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_hist_lifetime)</span>
<span id="cb308-2"><a href="#cb308-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb308-3"><a href="#cb308-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1   Q3   Q4
  0                  2342                         146   43   13   10
  1                   464                           9   10    4    3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb310"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1          Q3
  0           76.93823916                  4.79632063  1.41261498  0.42706965
  1           15.24310118                  0.29566360  0.32851511  0.13140604
   
             Q4
  0  0.32851511
  1  0.09855453</code></pre>
</div>
</div>
</section>
<section id="anti-virals-1" class="level5">
<h5 class="anchored" data-anchor-id="anti-virals-1">Anti-virals</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a>cross_table <span class="ot">&lt;-</span> <span class="fu">table</span>(HSA<span class="sc">$</span>had_HSA,HSA<span class="sc">$</span>quartile_anti_viral_lifetime)</span>
<span id="cb312-2"><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a>cross_table_percent <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(cross_table) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb312-3"><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded   Q1
  0                  2408                         146    0
  1                   480                           9    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cross_table_percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    drug_not_administered medication_use_not_recorded          Q1
  0           79.10643890                  4.79632063  0.00000000
  1           15.76872536                  0.29566360  0.03285151</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>