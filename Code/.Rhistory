print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_freq = mean(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
median_freq = median(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
sd_freq = sd(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
min_freq = min(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
max_freq= max(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_frequency_5y_prior_endpoint))
)
cross_table <- table(HSA$had_HSA,HSA$avg_intensity_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_intensity = mean(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
median_intensity = median(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
sd_intensity = sd(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
min_intensity = min(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
max_intensity= max(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_intensity_5y_prior_endpoint))
)
cross_table <- table(HSA$had_HSA,HSA$main_lifestyle_category_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_weight = mean(avg_weight_5y_prior_endpoint, na.rm = TRUE),
median_weight = median(avg_weight_5y_prior_endpoint, na.rm = TRUE),
sd_weight = sd(avg_weight_5y_prior_endpoint, na.rm = TRUE),
min_weight = min(avg_weight_5y_prior_endpoint, na.rm = TRUE),
max_weight= max(avg_weight_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_weight_5y_prior_endpoint))
)
HSA %>%
summarize(
mean_height = mean(avg_height_5y_prior_endpoint, na.rm = TRUE),
median_height = median(avg_height_5y_prior_endpoint, na.rm = TRUE),
sd_height = sd(avg_height_5y_prior_endpoint, na.rm = TRUE),
min_height = min(avg_height_5y_prior_endpoint, na.rm = TRUE),
max_height= max(avg_height_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_height_5y_prior_endpoint))
)
HSA %>%
summarize(
mean_bcs = mean(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
median_bcs = median(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
sd_bcs= sd(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
min_bcs = min(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
max_bcs= max(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_purina_BCS_5y_prior_endpoint))
)
cross_table <- table(HSA$had_HSA,HSA$neuter)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$sex_status)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$sex)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$neutered_reason)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_age_at_neuter_years = mean(age_at_neuter_years, na.rm = TRUE),
median_age_at_neuter_years= median(age_at_neuter_years, na.rm = TRUE),
sd_age_at_neuter_years = sd(age_at_neuter_years, na.rm = TRUE),
min_age_at_neuter_years = min(age_at_neuter_years, na.rm = TRUE),
max_age_at_neuter_years= max(age_at_neuter_years, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(age_at_neuter_years))
)
cross_table <- table(HSA$had_HSA,HSA$neutered_ever_bred)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$ever_bred_from)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
colnames(HSA)
cross_table <- table(HSA$had_HSA,HSA$anti_inflam_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_microbial_5y_prior_endpoint)
cross_table <- table(HSA$had_HSA,HSA$anti_microbials_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
library(tidyverse)
HSA <- read.csv("C:/Users/ctaylor18/GitHub/GRLS_analyses/Output/HSA_cohort_all_RFs_data.csv")
HSA <- HSA %>%
dplyr::select(-c(X,X,year_in_study_diagnosis_or_final_record_year.x,year_in_study_diagnosis_or_final_record_year.y,year_in_study_diagnosis_or_final_record_year.y.y))
#rename had HSA col
HSA <- HSA %>%
rename(had_HSA = had_HSA.x.x)
table(HSA$had_HSA)
df_types <- HSA %>%
summarise(across(everything(), ~ class(.x)[1])) %>%
pivot_longer(cols = everything(), names_to = "Column", values_to = "Data_Type")
print(df_types)
cross_table <- table(HSA$area_type_mode_5yrs_prior, HSA$had_HSA)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$MDI_quintile)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$house_type_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$water_source_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$heating_fuel_primary_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$cooking_fuel_primary_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$pipes_metal_any_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$pipes_plastic_any_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$region_name_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$state_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$use_aerosol_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$use_air_cleaner_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$use_hepa_filter_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$use_moth_balls_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$use_incense_or_candles_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$smoke_exposure_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_smoke = mean(hours_of_smoke_exposure_hours_5yrs_prior, na.rm = TRUE),
median_smoke = median(hours_of_smoke_exposure_hours_5yrs_prior, na.rm = TRUE),
sd_smoke = sd(hours_of_smoke_exposure_hours_5yrs_prior, na.rm = TRUE),
min_smoke = min(hours_of_smoke_exposure_hours_5yrs_prior, na.rm = TRUE),
max_smoke= max(hours_of_smoke_exposure_hours_5yrs_prior, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(hours_of_smoke_exposure_hours_5yrs_prior))
)
cross_table <- table(HSA$had_HSA,HSA$any_treated_insects_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$any_treated_weeds_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$any_treated_fertilizer_exposed_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$comorb_within_5_years_diagnosis_TF)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_freq = mean(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
median_freq = median(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
sd_freq = sd(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
min_freq = min(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
max_freq= max(avg_frequency_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_frequency_5y_prior_endpoint))
)
HSA %>%
summarize(
mean_intensity = mean(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
median_intensity = median(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
sd_intensity = sd(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
min_intensity = min(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
max_intensity= max(avg_intensity_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_intensity_5y_prior_endpoint))
)
cross_table <- table(HSA$had_HSA,HSA$main_lifestyle_category_mode_5yrs_prior)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_weight = mean(avg_weight_5y_prior_endpoint, na.rm = TRUE),
median_weight = median(avg_weight_5y_prior_endpoint, na.rm = TRUE),
sd_weight = sd(avg_weight_5y_prior_endpoint, na.rm = TRUE),
min_weight = min(avg_weight_5y_prior_endpoint, na.rm = TRUE),
max_weight= max(avg_weight_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_weight_5y_prior_endpoint))
)
HSA %>%
summarize(
mean_height = mean(avg_height_5y_prior_endpoint, na.rm = TRUE),
median_height = median(avg_height_5y_prior_endpoint, na.rm = TRUE),
sd_height = sd(avg_height_5y_prior_endpoint, na.rm = TRUE),
min_height = min(avg_height_5y_prior_endpoint, na.rm = TRUE),
max_height= max(avg_height_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_height_5y_prior_endpoint))
)
HSA %>%
summarize(
mean_bcs = mean(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
median_bcs = median(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
sd_bcs= sd(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
min_bcs = min(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
max_bcs= max(avg_purina_BCS_5y_prior_endpoint, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_purina_BCS_5y_prior_endpoint))
)
cross_table <- table(HSA$had_HSA,HSA$neuter)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$sex_status)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$sex)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$neutered_reason)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
HSA %>%
summarize(
mean_age_at_neuter_years = mean(age_at_neuter_years, na.rm = TRUE),
median_age_at_neuter_years= median(age_at_neuter_years, na.rm = TRUE),
sd_age_at_neuter_years = sd(age_at_neuter_years, na.rm = TRUE),
min_age_at_neuter_years = min(age_at_neuter_years, na.rm = TRUE),
max_age_at_neuter_years= max(age_at_neuter_years, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(age_at_neuter_years))
)
cross_table <- table(HSA$had_HSA,HSA$neutered_ever_bred)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$ever_bred_from)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_inflam_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_microbials_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$dietary_supplements_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$enteric_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$fluid_metabolites_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$hormones_and_related_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$immunologicals_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$neurological_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_parasites_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_septics_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$cardio_respiratory_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$diuretics_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_hist_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_viral_5y_prior_endpoint)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_inflam_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_microbials_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$dietary_supplements_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$enteric_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$fluid_metabolites_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$hormones_and_related_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$immunologicals_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$neurological_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_parasites_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_septics_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$cardio_respiratory_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$diuretics_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_hist_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
cross_table <- table(HSA$had_HSA,HSA$anti_viral_lifetime)
cross_table_percent <- prop.table(cross_table) * 100
print(cross_table)
print(cross_table_percent)
colnames(HSA)
table(HSA$all_comorbidities_ever)
HSA %>%
summarize(
mean_freq = mean(time_between_first_chronic_inflam_endpoint_diagnosis, na.rm = TRUE),
median_freq = median(time_between_first_chronic_inflam_endpoint_diagnosis, na.rm = TRUE),
sd_freq = sd(time_between_first_chronic_inflam_endpoint_diagnosis, na.rm = TRUE),
min_freq = min(time_between_first_chronic_inflam_endpoint_diagnosis, na.rm = TRUE),
max_freq= max(time_between_first_chronic_inflam_endpoint_diagnosis, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(time_between_first_chronic_inflam_endpoint_diagnosis))
)
HSA %>%
summarize(
mean_freq = mean(study_year_first_chronic_inflam, na.rm = TRUE),
median_freq = median(study_year_first_chronic_inflam, na.rm = TRUE),
sd_freq = sd(study_year_first_chronic_inflam, na.rm = TRUE),
min_freq = min(study_year_first_chronic_inflam, na.rm = TRUE),
max_freq= max(study_year_first_chronic_inflam, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(study_year_first_chronic_inflam))
)
HSA <- HSA %>%
mutate(avg_weight_5y_prior_endpoint_kg = avg_weight_5y_prior_endpoint * 0.453)
#remove outliers
HSA %>%
summarize(
mean_weight = mean(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
median_weight = median(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
sd_weight = sd(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
min_weight = min(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
max_weight= max(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_weight_5y_prior_endpoint_kg))
)
Q1 <- quantile(HSA$avg_weight_5y_prior_endpoint_kg, 0.25, na.rm = TRUE)
Q3 <- quantile(HSA$avg_weight_5y_prior_endpoint_kg, 0.75, na.rm = TRUE)
IQR <- Q3 - Q1
HSA <- HSA %>%
mutate(avg_weight_5y_prior_endpoint_kg_outliers_removed= ifelse(avg_weight_5y_prior_endpoint_kg < (Q1 - 1.5 * IQR) | avg_weight_5y_prior_endpoint_kg > (Q3 + 1.5 * IQR), NA, avg_weight_5y_prior_endpoint_kg))
HSA <- HSA %>%
mutate(avg_weight_5y_prior_endpoint_kg = avg_weight_5y_prior_endpoint * 0.453)
#how does data look now
HSA %>%
summarize(
mean_weight = mean(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
median_weight = median(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
sd_weight = sd(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
min_weight = min(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
max_weight= max(avg_weight_5y_prior_endpoint_kg, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_weight_5y_prior_endpoint_kg))
)
#remove outliers >1.5X above IQR
Q1 <- quantile(HSA$avg_weight_5y_prior_endpoint_kg, 0.25, na.rm = TRUE)
Q3 <- quantile(HSA$avg_weight_5y_prior_endpoint_kg, 0.75, na.rm = TRUE)
IQR <- Q3 - Q1
HSA <- HSA %>%
mutate(avg_weight_5y_prior_endpoint_kg_outliers_removed= ifelse(avg_weight_5y_prior_endpoint_kg < (Q1 - 1.5 * IQR) | avg_weight_5y_prior_endpoint_kg > (Q3 + 1.5 * IQR), NA, avg_weight_5y_prior_endpoint_kg))
#outlier removed dataset
#how does data look now
HSA %>%
summarize(
mean_weight = mean(avg_weight_5y_prior_endpoint_kg_outliers_removed, na.rm = TRUE),
median_weight = median(avg_weight_5y_prior_endpoint_kg_outliers_removed, na.rm = TRUE),
sd_weight = sd(avg_weight_5y_prior_endpoint_kg_outliers_removed, na.rm = TRUE),
min_weight = min(avg_weight_5y_prior_endpoint_kg_outliers_removed, na.rm = TRUE),
max_weight= max(avg_weight_5y_prior_endpoint_kg_outliers_removed, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_weight_5y_prior_endpoint_kg_outliers_removed))
)
HSA <- HSA %>%
mutate(avg_height_5y_prior_endpoint_cm = avg_height_5y_prior_endpoint * 2.54)
HSA <- HSA %>%
mutate(avg_height_5y_prior_endpoint_cm = avg_height_5y_prior_endpoint * 2.54)
#how does data look now
HSA %>%
summarize(
mean_height = mean(avg_height_5y_prior_endpoint_cm, na.rm = TRUE),
median_height = median(avg_height_5y_prior_endpoint_cm, na.rm = TRUE),
sd_height = sd(avg_height_5y_prior_endpoint_cm, na.rm = TRUE),
min_height = min(avg_height_5y_prior_endpoint_cm, na.rm = TRUE),
max_height= max(avg_height_5y_prior_endpoint_cm, na.rm = TRUE),
n = n(),
n_missing = sum(is.na(avg_height_5y_prior_endpoint_cm))
)
#remove outliers >1.5X above IQR
Q1 <- quantile(HSA$avg_height_5y_prior_endpoint_cm, 0.25, na.rm = TRUE)
Q3 <- quantile(HSA$avg_height_5y_prior_endpoint_cm, 0.75, na.rm = TRUE)
IQR <- Q3 - Q1
HSA <- HSA %>%
mutate(avg_height_5y_prior_endpoint_cm_outliers_removed= ifelse(avg_height_5y_prior_endpoint_cm < (Q1 - 1.5 * IQR) | avg_height_5y_prior_endpoint_cm > (Q3 + 1.5 * IQR), NA, avg_height_5y_prior_endpoint_cm))
HSA <- HSA %>%
mutate(enteric_lifetime2 = recode(enteric_lifetime, "Q1" = "medication administered"))
table(HSA$enteric_lifetime2
)
HSA <- HSA %>%
mutate(enteric_lifetime2 = recode(enteric_lifetime, "Q1" = "medication_administered",
"Q4"="medication_administered"))
table(HSA$enteric_lifetime2
)
HSA <- HSA %>%
mutate(enteric_lifetime2 = recode(enteric_lifetime, "Q1" = "drug_administered",
"Q4"="drug_administered"))
table(HSA$enteric_lifetime2
)
